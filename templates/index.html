<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Organizador de Equipos</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>

<form method="post">
<header>
    <strong>Equipo:</strong>
    <select name="equipo_id" onchange="location='/?equipo=' + this.value">
        {% for e in equipos %}
            <option value="{{ e[0] }}" {% if e[0] == equipo_id %}selected{% endif %}>
                {{ e[1] }}
            </option>
        {% endfor %}
    </select>

    <button type="submit">ðŸ’¾ Guardar cambios</button>
</header>

<div class="puertos-grid">
{% for puerto, estado, comentario in puertos %}
    <div class="puerto-card
        {% if estado == 'Libre' %}estado-libre
        {% elif estado == 'Ocupado' %}estado-ocupado
        {% else %}estado-sin{% endif %}">
        
        <h4>Puerto {{ puerto }}</h4>

        <select name="estado_{{ puerto }}">
            <option {% if estado=='Libre' %}selected{% endif %}>Libre</option>
            <option {% if estado=='Ocupado' %}selected{% endif %}>Ocupado</option>
            <option {% if estado=='Sin asignar' %}selected{% endif %}>Sin asignar</option>
        </select>

        <input type="text"
               name="comentario_{{ puerto }}"
               placeholder="Comentario"
               value="{{ comentario }}">
    </div>
{% endfor %}
</div>
</form>

</body>
</html>
